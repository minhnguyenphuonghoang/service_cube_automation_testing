*** Settings ***
Resource          Variables.txt
Variables         ../GuiObjects/ResetPassword.py

*** Keywords ***
Current screen is Reset Password screen
    Wait Until Page Contains    Reset your password    ${gl_timeout}
    Wait Until Page Contains Element    ${ResetPassword_CloseButton}    ${gl_timeout}    Close button couldn't be found on Reset Password screen
    Wait Until Page Contains Element    ${ResetPassword_EmailAddressTextField}    ${gl_timeout}    Email Address text field couldn't be found on Reset Password screen
    Wait Until Page Contains Element    ${ResetPassword_ContinueButton}    ${gl_timeout}    Continue button couldn't be found on Reset Password screen

Input Email Address_Reset Password
    [Arguments]    ${email_address}
    Wait Until Page Contains Element    ${ResetPassword_EmailAddressTextField}    ${gl_timeout}    Email Address text field on Reset Password screen couldn't be found
    Input Text    ${ResetPassword_EmailAddressTextField}    ${email_address}

Click Continue button
    Wait Until Page Contains Element    ${ResetPassword_ContinueButton}    ${gl_timeout}    CONTINUE button on Reset Password screen couldn't be found
    Click Element    ${ResetPassword_ContinueButton}

Click close icon
    Wait Until Page Contains Element    ${ResetPassword_CloseButton}    ${gl_timeout}    Close icon on Reset Password screen couldn't be found
    Click Element    ${ResetPassword_CloseButton}

Check Email Sent screen
    [Arguments]    ${email_address}
    Wait Until Page Contains Element    ${ResetPassword_EmailSentPopup_LeterIcon}    ${gl_timeout}    Mail icon on Reset Password - Email Sent screen couldn't be found
    Wait Until Page Contains Element    ${ResetPassword_EmailSentPopup_Title}    ${gl_timeout}    Title on Reset Password - Email Sent screen couldn't be found
    Wait Until Page Contains Element    ${ResetPassword_EmailSentPopup_Description}    ${gl_timeout}    Description on Reset Password - Email Sent screen couldn't be found
    Element Text Should Be    ${ResetPassword_EmailSentPopup_Title}    Check your inbox.
    ${description}=    Replace String    We've sent a link to reset your password to <email_address>.    <email_address>    ${email_address}
    Element Text Should Be    ${ResetPassword_EmailSentPopup_Description}    ${description}
