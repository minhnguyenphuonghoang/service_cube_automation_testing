*** Settings ***
Suite Setup       Get Data From Excel File    ${data_set_ResetPassword}    Reset Password
Test Setup        Run Keywords    Use TestLink
...               AND    Open AUT and Navigate to test page    ${url}${uri_reset_password}
...               AND    Current screen is Reset Password screen
Test Teardown     Run Keywords    Report Test Status    Capture Page Screenshot    Close All Browsers
Resource          ../High Level Keywords/ResetPassword.txt

*** Test Cases ***
[57740]_Check UI Reset password form
    Check UI of Reset Password screen

[56841]_Can't input over max length in fields for reset password form
    [Tags]    development
    Input Email Address_Reset Password    ${s_data['${t_testID}']['email address']}
    Click Continue button
    ${links}=    Check Forgot Password Email Template    ${s_data['${t_testID}']['email address']}    ${s_data['${t_testID}']['password']}    ${s_data['${t_testID}']['first name']}
    Go To    ${links[0]}
    Current screen is Choose your password - Reset Password screen
    Can't input over max length of Choose your password screen

[57303]_Can't input over max length in fields for reset password page
    Can't input over max length on Email Address field of Reset Password form

[57033]_Back to the log in page either by clicking on "X" button or Service Cube logo
    Click close icon
    Current screen is Sign In screen
    Click forgot password
    Click Service Cube Logo
    Current screen is Sign In screen

[57738]_Check UI of Reset Password email template
    [Tags]    development
    Input Email Address_Reset Password    ${s_data['${t_testID}']['email address']}
    Click Continue button
    ${links}=    Check Forgot Password Email Template    ${s_data['${t_testID}']['email address']}    ${s_data['${t_testID}']['password']}    ${s_data['${t_testID}']['first name']}

[56029]_Can't reset password after opening but not set password and close it
    [Tags]    development

[56986]_Can reset pw from the any reset password email
    [Tags]    development

[55992]_Can reset password with inputting valid email has "space" in first and end
    [Tags]    development

[55996]_Email had been invited and verified
    [Tags]    development

[55998]_Uppercase valid email
    [Tags]    development

[57732]_Can reset password with value from 8 to 40 characters
    [Tags]    development

[57736]_Can log in the home page after reset password successfully
    [Tags]    development

[56004]_Can't reset password when missing email
    Continue button is disabled

[56000]_Email has not invited
    Input Email Address_Reset Password    ${s_data['${t_testID}']['email address']}
    Click Continue button
    Verify error message on reset password screen    ${s_data['${t_testID}']['error message']}

[56006]_Invalid email format
    Input Email Address_Reset Password    ${s_data['${t_testID}']['email address']}
    Click Continue button
    Verify error message on reset password screen    ${s_data['${t_testID}']['error message']}

[56064]_Inputting less than 8 character
    [Tags]    development

[56073]_Missing required fields (password and/or confirm password field)
    [Tags]    development

[56075]_Confirm new password and new password don't match
    [Tags]    development

[56042]_Can't reset password if password has been reset
    [Tags]    development
